{% extends 'workouts/base.html' %}

{% block content %}

    <!-- Workout stats -->

    <div class="table-responsive">
        <table class="table table-sm" id='workout_stats'>

            <thead>
                <tr>
                    <th>From</th>
                    <th>To</th>
                    <th>Days</th>
                    <th>Workouts (count)</th>
                    <th>Workouts (%)</th>
                    <th>Rest (count)</th>
                    <th>Rest (%)</th>
                    <th>Runs (count)</th>
                    <th>Runs (%)</th>
                </tr>
            </thead>

            <tbody>
                {% for row in stats %}
                <tr>
                    <td>{{ row.from }}</td>
                    <td>{{ row.to }}</td>
                    <td>{{ row.days }}</td>
                    <td>{{ row.workouts }}</td>
                    <td>{{ row.workouts_prop }}</td>
                    <td>{{ row.rest }}</td>
                    <td>{{ row.rest_prop }}</td>
                    <td>{{ row.runs }}</td>
                    <td>{{ row.runs_prop }}</td>
                </tr>
                {% endfor %}
            </tbody>

        </table>
    </div>
    <!-- table-responsive -->

    <br>

    <!-- Workout log -->

    <div class="table-responsive">
        <table class="table table-sm" id='workout_log'>

            <thead>
                <tr>
                    <th>No</th>
                    <th>Date</th>
                    <th>Workout</th>
                    <th>Duration (mins)</th>
                    <th>Distance (km)</th>
                    <th>Pace (mins/km)</th>
                    <th>Category</th>
                    <th>User</th>
                </tr>
            </thead>

            <tbody>
                {% for obj in objects %}
                <tr>
                    <td><a class="article-title" href="{% url 'workout-detail' obj.id %}">{{ obj.id }}</a></td>
                    <td>{{ obj.date|date:"D, d-M-Y" }}</td>
                    <td>{{ obj.workout }}</td>
                    <td>{{ obj.duration }}</td>
                    <td>{{ obj.distance|floatformat:2 }}</td>
                    <td>{{ obj.pace|floatformat:2 }}</td>
                    <td>{{ obj.category }}</td>
                    <td>{{ obj.user }}</td>
                </tr>
                {% endfor %}
            </tbody>

        </table>
    </div>
    <!-- table-responsive -->

    <!-- Graphs and plots -->

    {% autoescape off %}
        {{ fig_div }}
    {% endautoescape %}

    {% autoescape off %}
        {{ pie_plots_div }}
    {% endautoescape %}

{% endblock %}
